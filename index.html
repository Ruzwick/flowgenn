<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GlassTask â€“ Google Sign-In</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    height: 100vh;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    backdrop-filter: blur(12px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    padding: 2rem;
    text-align: center;
    color: white;
    width: 320px;
  }
  button {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    color: white;
    font-size: 1rem;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: rgba(255, 255, 255, 0.35);
  }
  img {
    border-radius: 50%;
    margin-top: 1rem;
  }
</style>
</head>
<body>
  <div class="card" id="auth-card">
    <h2>GlassTask</h2>
    <p id="status">Sign in to continue</p>
    <button id="login-btn">Sign in with Google</button>
    <button id="logout-btn" style="display:none;">Sign Out</button>
    <div id="user-info" style="display:none;">
      <img id="user-pic" src="" alt="Profile" width="64" height="64" />
      <p id="user-name"></p>
      <p id="user-email"></p>
    </div>
  </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyAYYq3uWBzUfuVX5H6dzadmRzqRrvNk-3o",
    authDomain: "glasstask-f4a65.firebaseapp.com",
    projectId: "glasstask-f4a65",
    storageBucket: "glasstask-f4a65.appspot.com",
    messagingSenderId: "1001067063409",
    appId: "1:1001067063409:web:09d0b0da5f010b64a6c863"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  const loginBtn = document.getElementById("login-btn");
  const logoutBtn = document.getElementById("logout-btn");
  const status = document.getElementById("status");
  const userInfo = document.getElementById("user-info");
  const userPic = document.getElementById("user-pic");
  const userName = document.getElementById("user-name");
  const userEmail = document.getElementById("user-email");

  loginBtn.addEventListener("click", () => {
    signInWithPopup(auth, provider)
      .then((result) => {
        console.log("Signed in:", result.user);
      })
      .catch((error) => {
        console.error("Sign in error:", error);
      });
  });

  logoutBtn.addEventListener("click", () => {
    signOut(auth).catch((error) => console.error(error));
  });

  onAuthStateChanged(auth, (user) => {
    if (user) {
      status.textContent = "Signed in";
      loginBtn.style.display = "none";
      logoutBtn.style.display = "inline-block";
      userInfo.style.display = "block";
      userPic.src = user.photoURL;
      userName.textContent = user.displayName;
      userEmail.textContent = user.email;
    } else {
      status.textContent = "Sign in to continue";
      loginBtn.style.display = "inline-block";
      logoutBtn.style.display = "none";
      userInfo.style.display = "none";
    }
  });
</script>
</body>
</html>
